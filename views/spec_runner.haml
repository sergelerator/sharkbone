!!!
%html
  %head
    %title Sharkbone spec runner

  %link{rel: 'shortcut icon', type: 'image/png', href: '/spec/jasmine-1.3.1/jasmine_favicon.png'}
  %link{rel: "stylesheet", type: "text/css", href:"spec/jasmine-1.3.1/jasmine.css"}
  %script{ type: "text/javascript", src: "spec/jasmine-1.3.1/jasmine.js"}
  %script{ type: "text/javascript", src: "spec/jasmine-1.3.1/jasmine-html.js"}
  %script{ type: "text/javascript", src: "spec/sinon/sinon-1.6.0.js"}

  -# Source files
  %script{type: "text/javascript", src:"lib/jquery-min.js"}
  %script{type: "text/javascript", src:"sharkbone.js"}

  -# Spec files
  %script{type: "text/javascript", src: "spec/js/unit_specs/namespace_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/app/initializers_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/app/app_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/mixin/mixin_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/model/model_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/model/relational_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/model/class_definitions/relational_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/router/router_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/view/view_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/view/cud_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/view/cud_callbacks_spec.js"}
  -#%script{type: "text/javascript", src: "spec/js/unit_specs/view/pagination_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/view/render_spec.js"}
  %script{type: "text/javascript", src: "spec/js/unit_specs/view_manager/view_manager_spec.js"}

  :javascript
    var root = window;
    (function() {

      var jasmineEnv = jasmine.getEnv();
      jasmineEnv.updateInterval = 1000;

      var htmlReporter = new jasmine.HtmlReporter();

      jasmineEnv.addReporter(htmlReporter);

      jasmineEnv.specFilter = function(spec) {
        return htmlReporter.specFilter(spec);
      };

      var currentWindowOnload = window.onload;

      window.onload = function() {
        if (currentWindowOnload) {
          currentWindowOnload();
        }
        execJasmine();
      };

      function execJasmine() {
        jasmineEnv.execute();
      }

    })();
